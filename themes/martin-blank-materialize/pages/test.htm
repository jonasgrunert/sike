title = "Test"
url = "/test/:slug"
layout = "test"
description = "So that is it. You are at the core of Sike. Our heart and soul our multiple choice tests. Fell free to roam around and catch all the wonderful tests we created and put together for you. So take a deep dive and experience a new intuitive way of learning."
is_hidden = 0

[TestPage]
slug = "{{ :slug }}"
==
{% set test = TestPage.rendertest %}
{% set data = TestPage.testtable %}
{% set trueamount = TestPage.trueanswers %}
<div class="row">
    <div class="col s12 l9">
	    <h3>{{data.title}}</h3>
	    <h3 class="hide-on-large-only points">&nbsp;{{data.Questions|length}} Points</h3>
<span>{{data.description|raw}}</span>
<div>
	<form data-request="onHandIn" data-request-success="server(data);">
	{% for question in data.Questions %}
		<div class="section scrollspy" id="question.id">
		{% set index = loop.index0 %}
		<p>{{question.question}}</p>
		<span class="result">{{question.description|raw}}</span><input style="display: none;" type="number" name="{{index}}" value="{{trueamount[loop.index0]}}">
		{% set answers = test[loop.index0] %}
		{% for answer in answers %}
			<p>
				<div class="row">
				    <div class="col s12 l6">
        				<input type="checkbox" id="{{question.Answers[answer].id}}" name="{{index}}&{{question.Answers[answer].id}}">
        				<label for="{{question.Answers[answer].id}}">{{question.Answers[answer].answer}}</label>
        			</div>
        			<div class="col s12 l6">
        				{% if question.Answers[answer].result %}
        					<i class="material-icons result green-text">check</i>
        				{% else %}
        					<i class="material-icons result red-text">clear</i>
        				{% endif %}
        				<span class="result">&nbsp;{{question.Answers[answer].description}}</span>
        			</div>
        		</div>
			</p>
		{% endfor %}
		</div>
	{% endfor %}
	<button class="btn waves-effect waves-light" type="submit">Submit</button>
	</form>
</div>
</div>
	<div class="col l3 hide-on-med-and-down">
	    <h3 class="points">&nbsp;{{data.Questions|length}} Points</h3>
	    <br>
	    <ul class="section table-of-contents">
            {% for question in data.Questions %}
                <li style="white-space: nowrap;"><a href="#{{question.id}}">{{question.question}}</a></li>
            {% endfor %}
        </ul>
	</div>
</div>
<script type="text/javascript">
	function server(response){
		$('.result').toggle();
		swal({
			title: response.message,
			text: "You got "+response.percentage+"% of the points.",
			type: response.type,
			showConfirmButton: false,
			allowOutsideClick: true
		});
		$('.points').html(response.points+"/"+{{data.Questions|length}}+" Points");
	}
    $('.scrollspy').scrollSpy();
    $('.table-of-contents').pushpin({
      top: 130,
      offset: 10,
      bottom: 1000000000
    });
</script>